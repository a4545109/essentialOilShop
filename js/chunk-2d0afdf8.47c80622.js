(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afdf8"],{"0fd0":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}},[a("div",{staticClass:"loadingio-spinner-spin-qrb6a58hvd"},[a("div",{staticClass:"ldio-wx1melsq2ad"},[a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")])])])]),a("div",{staticClass:"container pt-5"},[a("div",{staticClass:"row mb-5"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"productImg bg-cover",style:{backgroundImage:"url("+t.product.imageUrl+")"}})]),a("div",{staticClass:"col-md-6"},[a("h2",{staticClass:"productTitle font-weight-bold mb-4"},[t._v(t._s(t.product.title))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mb-4"},[a("pre",[t._v(t._s(t.product.content))])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"payment"},[a("div",{staticClass:"row"},[a("del",{staticClass:"col-6 h5 text-secondary"},[t._v("原價NT"+t._s(t._f("thousands")(t.product.origin_price)))]),a("div",{staticClass:"col-6 h5 text-danger"},[t._v("優惠價NT"+t._s(t._f("thousands")(t.product.price)))])]),a("div",{staticClass:"form-group mt-3"},[a("label",{staticClass:"h5 font-weight-bold",attrs:{for:"number"}},[t._v("數量")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control",attrs:{id:"number"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.product,"num",s.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("請選擇數目")]),t._l(10,(function(s){return a("option",{key:s,domProps:{value:s}},[t._v(" 選購 "+t._s(s)+" "+t._s(t.product.unit)+" ")])}))],2)])])]),a("div",{staticClass:"col-12 mb-5"},[a("div",{staticClass:"addToCart"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(s){return t.addToCart(t.product.id,t.product.num)}}},[t.product.id===t.status.loadingItem?a("i",{staticClass:"fas fa-spinner fa-spin"}):t._e(),t._v(" 加到購物車 ")])])])])])])])],1)},o=[],c=(a("99af"),{name:"Product",data:function(){return{product:{},tempProduct:{},status:{loadingItem:""},isLoading:!1,carts:[]}},methods:{addToCart:function(t){var s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.status.loadingItem=t;var i="".concat("https://course-ec-api.hexschool.io","/api/").concat("758e049c-13ea-4895-88ba-30bd03b23992","/ec/shopping"),o={product:t,quantity:a};this.$http.post(i,o).then((function(t){s.$bus.$emit("updateQuantity"),s.$bus.$emit("message:push","成功加入購物車","success"),s.status.loadingItem=""})).catch((function(){s.$bus.$emit("message:push","已加入購物車","danger"),s.status.loadingItem=""}))},getProduct:function(){var t=this,s=this.$route.params.id;this.isLoading=!0,this.$http.get("".concat("https://course-ec-api.hexschool.io","/api/").concat("758e049c-13ea-4895-88ba-30bd03b23992","/ec/product/").concat(s)).then((function(s){t.product=s.data.data,t.isLoading=!1}))}},created:function(){this.getProduct()}}),d=c,e=a("2877"),n=Object(e["a"])(d,i,o,!1,null,null,null);s["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0afdf8.47c80622.js.map